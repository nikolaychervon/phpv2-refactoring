### Тестовое задание для разработчика на PHP
Мы ожидаем, что Вы:
* найдете и исправите все возможные ошибки (синтаксические, проектирования, безопасности и т.д.);
* отрефакторите код файла `ReturnOperation.php` в лучший по вашему мнению вид;
* напишите в комментарии краткое резюме по коду: назначение кода и его качество.

## Найденные проблемы
* Неверные неймспейсы
* Для отправки сообщений используется некий класс-клиент **MessagesClient**, который нигде не реализован
* Для отправки SMS используется некий класс-клиент **NotificationManager**, который нигде не реализован
* Класс **TsReturnOperation** находится в файле **ReturnOperation.php** и должен называться - **ReturnOperation**
* Метод **TsReturnOperation:doOperation()** имеет возвращаемый тип - **void**, однако упорно пытается вернуть массив
* Нет даже минимальной обработки исключений
* Отсутствует хорошая валидация параметров запроса
* (несущественно) По несколько раз идет приведение типов
* Есть использование неопределенной функции __(), как понимаю, нужно для интернационализации
* У объекта **Contractor** нет свойств **email** и **mobile**
* По названиям файлов и классов абсолютно непонятно, для чего они и какую логику выполняют
* Константы TsReturnOperation::TYPE_NEW и TsReturnOperation::TYPE_CHANGE содержат просто магические цифры (1 и 2 соответственно)
* (несущественно) При текущей валидации, при ошибке данных, возвращается код 400, правильнее возвращать 422.
* При отправке SMS используется неопределенная переменная **$error**
* После вызова **TsReturnOperation:doOperation()** не понятно, отправилось ли сообщение или нет. Так как массив возвращается даже при ошибке данных.
* Константа **Contractor::TYPE_CUSTOMER** содержит магическое - 0
* Метод **Contractor::getById()** принимает **$resellerId**, который передается в несуществующий конструктор
* Метод **Contractor::getFullName()** возвращает строку, которая содержит ИМЯ и ID. (ошибка в понимании логики метода)
* **Status:id** не используется
* В методе **Status::getName** лучше использовать константы
* Функция **getResellerEmailFrom()** возвращает email в виде хардкода
* Функция **getEmailsByPermit()** принимает параметры: $resellerId, $event. Которые не используются
* Функция **getEmailsByPermit()** возвращает почты сотрудников в виде хардкода
* У класса **Contractor**g есть непонятная аннотация несуществующего свойства (**@property Seller $Seller**g)
* Нужно использовать только POST запрос, так как GET запросы никогда не должны использоваться для отправки конфиденциальной информации.

## План разработки
1. Привести код к рабочему состоянию
2. Реализовать автозагрузку классов с помощью Composer PSR-4
3. Использовать (недостающий) клиент для отправки Email-сообщений (как вариант: PHPMailer)
4. Создать .env файл и удобную структуру конфигов для более удобного использования конфигов
5. Использовать БД для хранения сотрудников и сообщений (буду использовать SQLite, ибо другие СУБД - оверхед для этой задачи)
6. Выполнить рефакторинг кода (добавить логичную структуру классов, обработку исключений)
7. Протестировать

_PS: Тесты не делал. Для правильного тестирования отправки сообщений, необходимо поднимать свой фейковый сервер._
